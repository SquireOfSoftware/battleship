(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{12:function(e,t,n){},13:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(6),s=n.n(i),c=(n(12),n(13),n(1)),o=n(2),l=n(4),u=n(3),p=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=this.props.value;return a.a.createElement("div",{className:"default-square-element",onClick:function(){return e.props.processClick(e.props.coords)}},t)}}]),n}(a.a.Component),d=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){var e=this.props.boardSize,t=[],n={};n.gridTemplateColumns="repeat("+e.x+", 25px)",n.gridTemplateRows="repeat("+e.y+", 25px)";for(var r=0;r<e.y;r++){t[r]=[];for(var i=0;i<e.x;i++){var s="x:"+i+",y:"+r,c={x:i,y:r},o=this.props.getValue(c);t[r][i]=a.a.createElement(p,{key:s,id:s,coords:c,value:o,processClick:this.props.handleClick})}}return a.a.createElement("div",{className:"gameboard",style:n},t)}}]),n}(r.Component),h={Carrier:{name:"Carrier",size:5,symbol:"A"},Battleship:{name:"Battleship",size:4,symbol:"B"},Cruiser:{name:"Cruiser",size:3,symbol:"C"},Submarine:{name:"Submarine",size:3,symbol:"S"},Destroyer:{name:"Destroyer",size:2,symbol:"D"}},m={Enemy:"Enemy",Player:"Player",NoOne:"No One"},f=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).handleClick=function(e){r.props.isClickable&&r.props.canAttack(r.props.boardType)&&r.processAttack(e)},r.processAttack=function(e){var t=r.state.clickedSquares;r.existsInClickedSquares(e)||(t.push(e),r.setState({clickedSquares:t}),r.props.endTurn(r.props.boardType))},r.existsInClickedSquares=function(e){return r.state.clickedSquares.filter((function(t){return t.x===e.x&&t.y===e.y})).length>0},r.existsOnShipPositions=function(e){return r.props.ships.flatMap((function(e){return e.coords})).filter((function(t){return t.x===e.x&&t.y===e.y})).length>0},r.getValue=function(e){var t="";return r.existsInClickedSquares(e)&&(t=r.existsOnShipPositions(e)?"S":"X"),t},console.log(e),r.state={clickedSquares:[]},r}return Object(o.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement("div",{className:"title"},this.props.boardType," board"),a.a.createElement(d,{handleClick:this.handleClick,boardSize:this.props.boardSize,getValue:this.getValue}))}}]),n}(r.Component);f.defaultProps={boardSize:{x:25,y:10},ships:[{name:h.Destroyer,coords:[{x:1,y:2},{x:2,y:2}]},{name:h.Destroyer,coords:[{x:0,y:0},{x:0,y:1}]}],boardType:m.Player,isClickable:!1};var y=f,b=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).endTurn=function(e){var t;switch(e){case m.Player:console.log("ending enemy turn!"),t=m.Player;break;case m.Enemy:console.log("ending player turn"),t=m.Enemy;break;default:t=m.NoOne}r.setState({whosTurn:t}),console.log(r.state)},r.canAttack=function(e){switch(e){case m.Enemy:return r.state.whosTurn===m.Player;case m.Player:return r.state.whosTurn===m.Enemy;default:return!1}},r.state={whosTurn:m.Player},r}return Object(o.a)(n,[{key:"render",value:function(){var e=a.a.createElement(y,{boardType:m.Enemy,endTurn:this.endTurn,canAttack:this.canAttack,isClickable:"true"}),t=a.a.createElement(y,{boardType:m.Player,endTurn:this.endTurn,canAttack:this.canAttack,isClickable:"true"});return a.a.createElement("div",null,e,t,a.a.createElement("div",{className:"turn-order"},"The current turn is: ",this.state.whosTurn))}}]),n}(r.Component),v=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).decrementCount=function(e){r.counter>-1?r.counter--:r.counter=0},r.incrementCount=function(e){r.counter<r.props.maxCount?r.counter++:r.counter=r.reference.size},r.handleRadioSelection=function(e){r.props.handleRadioSelection(r.reference,r.counter)},r.id=r.props.id,r.link=r.props.link,r.reference=r.props.reference,r.name=r.reference.name,r.value=r.reference.symbol,r.counter=r.reference.size,r}return Object(o.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"ship-checkbox"},a.a.createElement("input",{type:"radio",id:this.id,name:this.link,value:this.value,onClick:this.handleRadioSelection}),a.a.createElement("label",{htmlFor:this.id},this.name," squares left to place: ",this.counter))}}]),n}(r.Component),k=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).handleGridClick=function(e){r.canClickGrid()},r.getValue=function(e){},r.canClickGrid=function(){return void 0!==r.state.selectedShipType&&r.state.squaresLeft>0&&r.state.squaresLeft<=r.state.selectedShipType},r.handleRadioSelection=function(e,t){console.log(e),r.setState({selectedShipType:e,squaresLeft:t})},r.state={shipPlacements:[],selectedShipType:void 0,squaresLeft:0,clickedSquares:[]},r}return Object(o.a)(n,[{key:"render",value:function(){var e=this,t=[];return[h.Carrier,h.Battleship,h.Cruiser,h.Submarine,h.Destroyer].forEach((function(n,r){var i=a.a.createElement(v,{key:r,id:r,reference:n,link:"setupBoard",handleRadioSelection:e.handleRadioSelection});t.push(i)})),a.a.createElement("div",null,a.a.createElement("div",{className:"setup-instructions"},"Deploy your ships for naval warfare"),a.a.createElement(d,{handleClick:this.handleGridClick,boardSize:this.props.boardSize,getValue:this.getValue}),a.a.createElement("div",null,t),a.a.createElement("div",{className:"setup-instructions"},"Tip: Tap the above check boxes to place your ships"))}}]),n}(r.Component);k.defaultProps={boardSize:{x:25,y:10}};var C=k,E=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={},r}return Object(o.a)(n,[{key:"render",value:function(){return a.a.createElement("div",null,a.a.createElement(C,null))}}]),n}(r.Component);var S=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement(E,null),a.a.createElement(b,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},7:function(e,t,n){e.exports=n(14)}},[[7,1,2]]]);
//# sourceMappingURL=main.89402053.chunk.js.map